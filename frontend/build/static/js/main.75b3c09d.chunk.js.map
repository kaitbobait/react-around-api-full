{"version":3,"sources":["components/ProtectedRoute.js","utils/auth.js","images/logo-svg.svg","components/Header.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/success.png","images/fail.png","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","isLoggedIn","to","auth","baseUrl","headers","this","_baseUrl","_contentType","res","ok","json","Promise","reject","status","email","password","fetch","method","Accept","body","JSON","stringify","then","_checkResponse","token","localStorage","setItem","console","log","Authorization","data","Header","className","src","logo","alt","children","Login","style","color","onSubmit","handleSubmit","placeholder","type","value","onChange","onEmailChange","onPasswordChange","href","Register","InfoTooltip","isSuccess","isOpen","aria-label","onClick","onClose","api","_authorize","authorization","values","name","about","link","avatar","cardId","isLiked","callMethod","arguments","getItem","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onCardClick","onCardDelete","onCardLike","length","Main","onLogOut","userData","backgroundImage","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","title","action","noValidate","ImagePopup","cardInfo","EditProfilePopup","useState","setName","setAbout","useEffect","evt","preventDefault","onUpdateUser","id","target","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardTitle","setCardTitle","cardImage","setCardImage","App","history","useHistory","setCurrentUser","getUserInfo","catch","err","setCards","getInitialCards","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisisAddPlacePopupOpen","isEditAvatarPopupOpen","setisEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","setIsLoginModalOpen","setIsLoggedIn","isLoginModalOpen","handleLoginModal","setIsSuccess","isFail","setIsFail","handleFail","setEmail","setPassword","message","setMessage","setUserData","handleEmailChange","handlePasswordChange","getContent","push","resetForm","Provider","path","removeItem","changeLikeCardStatus","newCard","newCards","item","deleteCard","deletedCard","filteredCards","filter","oldCard","exact","authorize","Error","register","newInfo","editProfile","editAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75b3c09d.chunk.js","sourcesContent":["//use this component to protect the / route so that unauthorized users can't access it\n\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n// this component can take a component as a prop\n// it can also recieve an infinite number of props to pass down\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n        {props.isLoggedIn ? <Component {...props} /> : <Redirect to='./login' />}\n    </Route>\n)}\n\nexport default ProtectedRoute; ","class AuthApi {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._contentType = headers[\"Content-Type\"];\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    // if server returns an error, reject the promise\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  register(email, password) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": this._contentType\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((res) => {\n        return this._checkResponse(res);\n      })\n      .then((res) => {\n        return res;\n      })\n  }\n\n  authorize(email, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((res) => {\n        return this._checkResponse(res);\n      })\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"token\", res.token);\n          return res;\n        } else {\n          console.log(\"token is coming up undefined\");\n          return;\n        }\n      })\n  }\n\n  getContent(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": this._contentType,\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        return this._checkResponse(res);\n      })\n      .then(({ data }) => data);\n  }\n}\n\nconst auth = new AuthApi({\n  //\"https://register.nomoreparties.co\" // old url\n  baseUrl: \"http://localhost:3000\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default auth;\n\n","export default __webpack_public_path__ + \"static/media/logo-svg.4e8e0a1d.svg\";","import logo from '../images/logo-svg.svg';\n\nfunction Header(props) {\n\n  return(\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Around logo\" />\n      <nav className = \"header__link\">\n        {props.children}\n      </nav>\n    </header>\n  )\n}\n\nexport default Header;","//the component for user authorization with the necessary state variables\n\nimport React from \"react\";\nimport auth from \"../utils/auth.js\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport Header from \"./Header.js\";\n\nfunction Login(props) {\n\n  return (\n    <>\n      <Header>\n        <Link className=\"header__link_text\" to=\"/signup\">\n          Sign up\n        </Link>\n      </Header>\n      <div className=\"page page__content signIn-page\">\n        <div className=\"signIn-page__container\">\n          <h2 className=\"signIn-page__title\" style={{ color: \"white\" }}>\n            Login\n          </h2>\n          <form className=\"signIn-page__form\" onSubmit={props.handleSubmit}>\n            <input\n              className=\"popup__input signIn-page__input\"\n              placeholder=\"Email\"\n              type=\"text\"\n              value={props.email}\n              onChange={props.onEmailChange}\n            ></input>\n            <input\n              className=\"popup__input signIn-page__input\"\n              placeholder=\"Password\"\n              type=\"text\"\n              value={props.password}\n              onChange={props.onPasswordChange}\n            ></input>\n            <button className=\"signIn-page__submit\" type=\"submit\">\n              Log in\n            </button>\n            <p className=\"signIn-page__link\">\n              <a className=\"signIn-page__link_text\" href=\"/signup\">\n                Not a member yet? Sign up here!\n              </a>\n            </p>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n\n//export default withRouter(Login);\n","//the component for user registration with the necessary state variables\n\n\n//the component for user authorization with the necessary state variables\n\nimport React, { useEffect } from 'react';\nimport {useHistory, Link} from 'react-router-dom';\nimport Header from './Header.js';\n\n function Register(props) {\n\n  return(\n      <>\n      <Header>\n        <Link className=\"header__link_text\" to=\"/login\">Log in</Link>\n      </Header>\n      <div className = \"page page__content signIn-page\">\n        <div className=\"signIn-page__container\">\n          <h2 className = \"signIn-page__title\" style={{\"color\": \"white\"}}>Sign up</h2>\n          <form className=\"signIn-page__form\" onSubmit={props.handleSubmit}>\n            <input className =\"popup__input signIn-page__input\" placeholder=\"Email\" type=\"text\" value={props.email} onChange={props.onEmailChange}></input>\n            <input className =\"popup__input signIn-page__input\" placeholder=\"Password\" type=\"text\" value={props.password} onChange={props.onPasswordChange}></input>\n            <button className=\"signIn-page__submit\" type=\"submit\">Sign up</button>\n            <p className=\"signIn-page__link\">\n              <a className=\"signIn-page__link_text\" href=\"/login\">\n                Already a member? Log in here!\n              </a>\n            </p>\n          </form>\n          </div>\n      </div>\n      </>\n\n    )\n\n }\n\n export default Register;\n \n ","//a modal window component that informs the user whether they've been registered successfully\n\nimport React from 'react';\nimport success from \"../images/success.png\";\nimport fail from \"../images/fail.png\";\n\nfunction InfoTooltip(props) {\n\n  //FIXME\n  \n  const textSuccess = \"Success! You have now been registered.\"\n  const textFail = \"Oops, something went wrong! Please try again.\"\n  console.log(`is  modal success? ${props.isSuccess}`);\n  \n  return(\n    <div className={`popup ${props.isOpen ? 'popup_open' : \"\"}`}>\n      <div className=\"popup__container popup__container_modal\">\n        <button className=\"popup__close-button\" aria-label=\"Close pop up\" type=\"button\" onClick={props.onClose}></button>\n        <img \n        className=\"popup__modal-image\" \n        src={!props.isSuccess ? fail : success}\n        alt={!props.isSuccess ? \"failed submission\" : \"successful submission\"}\n        >\n        </img>\n        <p className=\"popup__modal-text\">{!props.isSuccess ? textFail : textSuccess}</p>\n      </div>\n    </div>\n  )\n\n}\n\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","/**\n * works with the API\n * All requests are methods of this Class\n */\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._authorize = headers.authorization;\n    this._contentType = headers[\"Content-Type\"];\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      // if server returns an error, reject the promise\n      return Promise.reject(`Error: ${res.status}`);\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorize,\n      },\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  // GETs information for the user profile\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorize,\n      },\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  // modified the profile text content\n  editProfile(values) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorize,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: values.name,\n        about: values.about,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  editAvatar(link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorize,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._authorize,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    let callMethod;\n    if (!isLiked) {\n      callMethod = \"PUT\";\n    } else {\n      callMethod = \"DELETE\";\n    }\n\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: callMethod,\n      headers: {\n        authorization: this._authorize,\n      },\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    console.log(arguments);\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authorize,\n        \"Content-Type\": this._contentType,\n      },\n    }).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"http://localhost:3000\",\n  headers: {\n    //TODO change hard coded token\n    authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","\nimport React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n\n\n","\nimport React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  // Checking if you are the owner of the current card\n  const isOwn =  props.card.owner._id === currentUser._id;\n  // Creating a variable which you'll then set in 'className' for the delete button\n  //not working, tried to add both so it wouldn't be just an empty button\n  const cardDeleteButtonClassName = (`${isOwn ? 'places__delete-button_visible' : 'places__delete-button_visible places__delete-button_hidden'}`);\n  // <button className = {`${cardDeleteButtonClassName}`}></button>\n  \n\n  // Chck if the card was liked by the current user\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  // Create a variable which you then set in 'className' for the like button\n  const cardLikeButtonClassName = (`${isLiked ? 'places__heart-button places__heart-button_active' : 'places__heart-button'}`);\n\n\n  //says onCardLike is not a function, when click on the heart button\n  function handleLikeClick(card) {\n    props.onCardLike(card);\n    \n  }\n\n  function handleDeleteClick(card) {\n    props.onCardDelete(card);\n  }\n\n\n  return (\n    <li className=\"places__item\">\n                    <img className=\"places__img\" src={props.card.link} onClick={() => {props.onCardClick(props.card)}} alt={props.card.name} />\n                    <button className = {`${cardDeleteButtonClassName}`} onClick={() => {handleDeleteClick(props.card)}} ></button>\n                    <div className=\"places__title-section\">\n                      <h2 className=\"places__name\">{props.card.name}</h2>\n                      <div className = \"places__heart\">\n                        <button \n                          className={`${cardLikeButtonClassName}`} \n                          onClick={() => {\n                            handleLikeClick(props.card);\n                          }} \n                          aria-label=\"like\" \n                          type=\"button\"></button>\n                        <div className = \"places__heart-count\">{props.card.likes.length}</div>\n                      </div>\n                    </div>\n    </li>\n  )\n\n}\n\nexport default Card;","\nimport React from 'react';\nimport {Link} from 'react-router-dom'\nimport api from '../utils/api.js';\nimport Card from './Card.js';\nimport Header from './Header.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\n\nfunction Main(props) {\n\n  // const [cards, setCards] = React.useState([]);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n    <Header>\n      <div className=\"header__nav\"> \n        <Link className=\"header__link_text\" onClick={props.onLogOut} to=\"#\">Log out</Link>\n        <li className=\"header__email\">{props.userData.email}</li>\n      </div>\n    </Header>\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__img\" style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n        <button className=\"profile__img-edit\" aria-label=\"edit-picture\" type=\"button\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__description\">\n          <div className=\"profile__description-top\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"profile__edit\" aria-label=\"edit\" type=\"button\" onClick={props.onEditProfile}>\n            </button>\n          </div>\n          <p className=\"profile__title\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add\" aria-label=\"add\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map((card) => (\n            <Card\n            card={card}\n            key={card._id}\n            onCardClick={() => {\n              props.onCardClick(card);\n            }}\n            onCardLike={() => {\n              props.onCardLike(card);\n            }}\n            onCardDelete={() => {\n              props.onCardDelete(card);\n            }}\n          />\n          ))}\n\n        </ul>\n      </section>\n    </main>\n    </>\n  )\n}\n\nexport default Main;","\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n    <p className=\"footer__copyright\">&copy;2020 Around The U.S.</p>\n  </footer>\n  )\n}\n\nexport default Footer;","\n\nfunction PopupWithForm(props) {\n\n\n  return(\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_open' : \"\"}`}>\n            <div className=\"popup__container\">\n              <button className=\"popup__close-button popup__close-button_places\" aria-label=\"Close\" type=\"button\" onClick={props.onClose}></button>\n              <h2 className=\"popup__intro\">{props.title}</h2>\n              <form className=\"form popup__form popup__form-places\" onSubmit={props.onSubmit} action=\"#\" noValidate>\n                {props.children}\n                <button className=\"popup__save-button\" type=\"submit\" >Save</button>\n              </form>\n            </div>\n      </div>\n\n  )}\n\nexport default PopupWithForm;","\n// determines if the 'popup_open is added \n// specifies the image address in the <img> tag\nfunction ImagePopup(props) {\n  \n  return(\n    <div className={`popup popup_open_image ${props.isOpen ? 'popup_open' : \"\"}`}>\n          <div className = \"popup__container_image\">\n            <button className=\"popup__close-button popup__close-button_images\" aria-label=\"Close\" type=\"button\" onClick={props.onClose}></button>\n            <div className=\"popup_container_image-text\">\n              <img className = \"popup__image\" src={props.card} alt={props.cardInfo.name}  />\n              <h3 className = \"popup__image-title\">{props.cardInfo.name}</h3>\n            </div>\n          </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [about, setAbout] = React.useState(\"\");\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  // why when commented out, it takes out the values in the input field\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleAboutChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n\n    // Pass the values of the managed components to the external handler\n    props.onUpdateUser({\n      name,\n      about\n    });\n  }\n\n  return (\n\n\n    <PopupWithForm name=\"profile-edit\" title=\"Edit Profile\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input className=\"popup__input popup__input_text_name\" id=\"input_text_name\" value={name || \"\"} onChange={handleNameChange} type=\"text\" name=\"profile-edit\" placeholder=\"name\" minLength=\"2\" maxLength=\"40\" required />\n      <span className=\"popup__input-error\" id=\"input_text_name-error\"></span>\n      <input className=\"popup__input popup__input_text_title\" id=\"input_text_title\" value={about || \"\"} onChange={handleAboutChange} type=\"text\" name=\"profile-edit\" placeholder=\"Occupation\" minLength=\"2\" maxLength=\"200\" required />\n      <span className=\"popup__input-error\" id=\"input_text_title-error\"></span>\n    </PopupWithForm>\n\n\n  )\n}\n\nexport default EditProfilePopup;\n","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditAvatarPopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const avatarRef = React.useRef(); //returns an object\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    \n    props.onUpdateAvatar(avatarRef.current.value);\n  }\n\n  return(\n    <PopupWithForm name=\"avatar-edit\" title=\"Change profile picture\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n            <input className=\"popup__input popup__input_avatar\" id=\"popup__input_avatar\"  ref={avatarRef} type=\"url\" name=\"avatar-edit\" placeholder=\"Image link\" minLength=\"\" maxLength=\"\" required />\n            <span className=\"popup__input-error\" id=\"popup__input_avatar-error\"></span>\n          </PopupWithForm>\n\n  )\n\n}\n\nexport default EditAvatarPopup;","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport api from '../utils/api.js';\n\nfunction AddPlacePopup(props) {\n\n\n  const [cardTitle, setCardTitle] = React.useState(\"\");\n  const [cardImage, setCardImage] = React.useState(\"\");\n\n  function handleTitleChange(evt) {\n    setCardTitle(evt.target.value)\n  }\n\n  function handleImageChange(evt) {\n    setCardImage(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n\n    evt.preventDefault();\n    props.onAddPlace({\n      name: cardTitle,\n      link: cardImage\n    });\n    \n  }\n\n  return (\n    <PopupWithForm name=\"places-edit\" title=\"New Place\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n      <input className=\"popup__input popup__input_text_image-title\" id=\"popup__input_text_image-title\" value={cardTitle} onChange={handleTitleChange} type=\"text\" name=\"places-edit\" placeholder=\"Title\" minLength=\"2\" maxLength=\"30\" required />\n      <span className=\"popup__input-error\" id=\"popup__input_text_image-title-error\"></span>\n      <input className=\"popup__input popup__input_text_image\" id=\"popup__input_text_image\" value={cardImage} onChange={handleImageChange} type=\"url\" name=\"places-edit\" placeholder=\"Image link\" minLength=\"\" maxLength=\"\" required />\n      <span className=\"popup__input-error\" id=\"popup__input_text_image-error\"></span>\n    </PopupWithForm>\n  )\n\n}\n\nexport default AddPlacePopup;","import React, { useEffect } from \"react\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useHistory,\n  withRouter,\n} from \"react-router-dom\";\n\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\n\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport api from \"../utils/api.js\";\nimport auth from \"../utils/auth.js\";\n\nfunction App() {\n  const history = useHistory();\n\n  // when mounted, userInfo will be updated with value\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  /* Card info */\n\n  const [cards, setCards] = React.useState([]);\n\n  // request initial cards api, then change cards state to new value\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Send a request to the API and getting the updated card data\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        // Create a new array based on the existing one and put a new card into it\n        const newCards = cards.map((item) =>\n          item._id === card._id ? newCard : item\n        );\n\n        // Update the state\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // cannot read property _id of undefined, deletes card on refresh\n  function handleCardDelete(card) {\n    // Check to see if you own the card\n    // const isOwn = card.owner._id === currentUser._id;\n\n    api\n      .deleteCard(card._id)\n      .then((deletedCard) => {\n        // const newCards = cards.map((item) => item.owner._id === currentUser._id ? deletedCard : item);\n        const oldCards = [...cards];\n        const filteredCards = oldCards.filter(\n          (oldCard) => oldCard._id !== card._id\n        );\n\n        // Update the card state\n        setCards(filteredCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlace(card) {\n    api\n      .addCard(card)\n      .then((card) => {\n        setCards([card, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  /* User info */\n  function handleUpdateUser(newInfo) {\n    api\n      .editProfile(newInfo)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(newInfo) {\n    api\n      .editAvatar(newInfo)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = React.useState(\n    false\n  );\n\n  function handleEditProfileClick() {\n    // document.querySelector(\".popup_type_profile-edit\").classList.add(\"popup_open\")\n    setisEditProfilePopupOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setisisAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick() {\n    // document.querySelector(\".popup_type_places-edit\").classList.add(\"popup_open\");\n    setisisAddPlacePopupOpen(true);\n  }\n\n  const [isEditAvatarPopupOpen, setisEditAvatarPopupOpen] = React.useState(\n    false\n  );\n\n  function handleEditAvatarClick() {\n    // document.querySelector(\".popup_type_avatar-edit\").classList.add(\"popup_open\");\n    setisEditAvatarPopupOpen(true);\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState(false);\n\n  function handleCardClick(cardInfo) {\n    //should add which image address in img tag to popup\n    setSelectedCard(cardInfo);\n  }\n\n  // const [isPopupOpen, setisPopupOpen] = React.useState(true);\n  function closeAllPopups(evt) {\n    // setisPopupOpen(false);\n    setisEditProfilePopupOpen(false);\n    setisEditAvatarPopupOpen(false);\n    setisisAddPlacePopupOpen(false);\n    setSelectedCard(false);\n    setIsLoginModalOpen(false);\n  }\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  function handleLogin() {\n    setIsLoggedIn(true);\n  }\n\n  const [isLoginModalOpen, setIsLoginModalOpen] = React.useState(false);\n  function handleLoginModal() {\n    setIsLoginModalOpen(true);\n  }\n\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  function handleSuccess() {\n    setIsSuccess(true);\n  }\n\n  const [isFail, setIsFail] = React.useState(false);\n  function handleFail() {\n    setIsFail(true);\n  }\n\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [message, setMessage] = React.useState(\"\");\n  const [userData, setUserData] = React.useState({});\n\n  const token = localStorage.getItem(\"token\");\n\n  useEffect(() => {\n    \n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          //console.log(1);  //works\n          //console.log(res.email); //works\n          setUserData({\n            ...userData,\n            email: res.email,\n          });\n          \n        })\n        .then((res) => {\n          console.log(res); \n         console.log(userData);\n          setIsLoggedIn(true);\n        })\n        .then((res) => {\n          history.push('/main');\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n  }, [isLoggedIn]);\n\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value);\n  }\n\n  //LOGIN PAGE\n\n  const resetForm = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setMessage(\"\");\n  };\n\n  function handleLoginSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n\n    evt.preventDefault();\n\n    if (!email || !password) {\n      console.log('email or password not working')\n      return;\n    }\n\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        //console.log('data' + data);\n        if (!data) {\n          //sets modal to true(to open it up)\n          handleLoginModal();\n          handleFail();\n          //console.log(isFail);\n          throw new Error(\"user does not exist\");\n        }\n        if (data.token) {\n          // changes isLoggedIn to true\n          handleLogin();\n        }\n      })\n      .then(resetForm)\n      .then(() => history.push(\"/main\"))\n      .catch((err) => {\n        handleFail();\n        handleLoginModal();\n        console.log(err);\n      });\n  }\n\n  // Register page\n\n  const handleRegisterSubmit = (evt) => {\n\n    evt.preventDefault();\n    //does not have backend api setup, so anything passes and will result in\n    //success modal -- incorrect -- fix when connect backend\n    auth.register(email, password)\n    .then((res) =>{\n      handleLoginModal();\n      handleSuccess();\n    })\n    .then(resetForm)\n      // .then(() => {\n      //   history.push('/login')\n      // })\n    .catch((err) => {\n      console.log(err);\n      handleFail();\n      handleLoginModal();\n      \n    })\n  }\n\n  function logOut() {\n    localStorage.removeItem(\"token\");\n    setIsLoggedIn(false);\n    history.push(\"/login\");\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          {/* <Header isLoggedIn={isLoggedIn} /> */}\n          <Switch>\n            <ProtectedRoute\n              path=\"/main\"\n              component={Main}\n              isLoggedIn={isLoggedIn}\n              email={email}\n              userData={userData}\n              onLogOut={logOut}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike} //why did the parameter not pass through when like this: onCardLike={()=> {handleCardLike()}}\n              onCardDelete={handleCardDelete}\n            ></ProtectedRoute>\n            {/* <ProtectedRoute path='/main' isLoggedIn={isLoggedIn} userData={userData} component={Main, EditProfilePopup, EditAvatarPopup, ImagePopup, PopupWithForm}> */}\n\n            <Route exact path=\"/\">\n              {isLoggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/login\" />}\n            </Route>\n            <Route path=\"/login\">\n              <Login\n                isOpen={isLoginModalOpen}\n                email={email}\n                userData={userData}\n                onEmailChange={handleEmailChange}\n                password={password}\n                onPasswordChange={handlePasswordChange}\n                message={message}\n                handleSubmit={handleLoginSubmit}\n                onClose={closeAllPopups}\n                isLoggedIn={isLoggedIn}\n              />\n            </Route>\n            <Route path=\"/signup\">\n              <Register\n                isOpen={isLoginModalOpen}\n                email={email}\n                onEmailChange={handleEmailChange}\n                password={password}\n                onPasswordChange={handlePasswordChange}\n                message={message}\n                handleSubmit={handleRegisterSubmit}\n                onClose={closeAllPopups}\n              />\n            </Route>\n          </Switch>\n          <Footer />\n          <InfoTooltip isOpen={isLoginModalOpen} onClose={closeAllPopups} isSuccess={isSuccess} isFail={isFail}></InfoTooltip>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n          <PopupWithForm onClose={closeAllPopups} />\n\n          {/* Delete Popup  - doesn't work yet - need cards*/}\n          <PopupWithForm\n            name=\"delete-places\"\n            title=\"Are you sure?\"\n            onClose={closeAllPopups}\n          ></PopupWithForm>\n\n          <ImagePopup\n            cardInfo={selectedCard}\n            card={selectedCard.link}\n            isOpen={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n// \"PENDING\",\n//         WTF,\n//         GOOGLE,\n//         NEED,\n//         SPECS,\n//         FUTURE,\n//         QUESTION,\n//         CREATED,\n//         TEST,\n//         MAKEME,\n//         REFACTOR,\n//         IDEA,\n//         UNPLUGGED,\n//         NOTE,\n//         URGENT,\n//         FIXME,\n//         DEAD,\n//         COMPLETE,\n//         BUG,\n//         DUE,\n//         DONE,\n\n//         \"[ ]\",\n//         \"[x]\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}